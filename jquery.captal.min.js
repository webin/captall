/**
 * jQuery Captall - Add a caption to everything - http://www.captall.be
 * ---------------------------------------------------------------------------------
 *
 * jQuery Captall is a plugin that creates captions images or any DOM element.
 *
 * Licensed under The MIT License
 *
 * @version         0.1
 * @since           09-29-2013
 * @author          Erwin Van Wesemael
 * @documentation   www.captall.be
 * @license         opensource.org/licenses/mit-license.php MIT
 * @package         jQuery Plugins
 *
 */
(function(b){b.fn.captall=function(w){var e=b.extend({},b.fn.captall.defaults,w);if(this.length===0){a("Invalid selector!");return}else{if(this.length>1){return this.each(function(){b.fn.captall.apply(b(this),[w])})}}if(e.padding!==""){var r=e.padding;if(r.length===4){e.paddingTop=r[0];e.paddingRight=r[1];e.paddingBottom=r[2];e.paddingLeft=r[3]}else{if(r.length===2){e.paddingTop=r[0];e.paddingRight=r[1];e.paddingBottom=r[0];e.paddingLeft=r[1]}else{if(r.length===1){e.paddingTop=r[0];e.paddingRight=r[0];e.paddingBottom=r[0];e.paddingLeft=r[0]}else{a("Invalid padding properties");return}}}}var j=b(this),l=e.paddingTop+e.paddingBottom,x=e.paddingLeft+e.paddingRight,u;if(e.height==="full"){e.height=j.height()+l}else{if(e.height==="half"){e.height=(j.height()/2)-l}else{if(e.height===""){e.height=30}else{if(e.height.toString().indexOf("/")>=0){u=e.height.split("/");e.height=(j.height()-l)/u[1]*u[0]}else{if(e.height.toString().indexOf("%")>=0){u=e.height.split("%");e.height=(j.height()-l)*u[0]/100}}}}}if(e.width==="full"){e.width=j.width()-x}else{if(e.width==="half"){e.width=(j.width()/2)-x}else{if(e.width===""){e.width=j.width()-x}else{if(e.width.toString().indexOf("/")>=0){u=e.width.split("/");e.width=(j.width()-x)/u[1]*u[0]}else{if(e.width.toString().indexOf("%")>=0){u=e.width.split("%");e.width=(j.width()-x)*u[0]/100}}}}}if(e.time!==""){e.inTime=e.time;e.outTime=e.time}var z=j.attr("name"),k=b('<div class="'+e.cCaption+'"/>'),c=j,y=e.height+l,d=e.width+x;if(j.parent().is("a")){c=j.parent()}var g=c.wrap('<div class="'+e.cImage+'"/>').parent(),t=g.wrap('<div class="'+e.cWrapper+'"/>').parent();t.css({height:j.height(),overflow:"hidden",position:"relative",width:j.width()});k.css({width:e.width,height:e.height,opacity:e.opacity,position:"absolute","padding-top":e.paddingTop,"padding-bottom":e.paddingBottom,"padding-left":e.paddingLeft,"padding-right":e.paddingRight,"background-color":e.backgroundColor,color:e.fontColor,"font-size":e.fontSize,"text-align":e.textAlign}).click(function(f){f.stopPropagation()}).appendTo(t);if(z){var i=b(z);if(i.length){i.appendTo(k)}else{k.html('<span style="color: #F00;">Content invalid or missing!</span>')}}else{if(e.caption!==""){k.html(e.caption)}else{k.html(j.attr("alt"))}}var s=0,m=0,o=0,n=0;if(e.top===""){s=0}else{if(e.top==="center"){s=(this.height()-y-l)/2}else{if(!isNaN(e.top)){s=e.top}else{a("Invalid top value!");return}}}function v(){alert("gedaan")}var q=0;var h=0;if(e.top===""){q=0}else{if(e.top==="center"){q=(this.height()-y)/2}else{if(!isNaN(e.top)){q=e.top}else{a("Invalid top value!");return}}}if(e.left===""){h=0}else{if(e.left==="center"){h=(this.width()-d)/2}else{if(!isNaN(e.left)){h=e.left}else{a("Invalid top value!");return}}}if(e.animation==="slide"){if(e.top===""){if(e.slideTo==="bottom"){s=this.height()-e.height-l}else{if(e.slideTo==="top"){s=0}else{if(e.slideTo==="center"){s=(this.height()-y)/2}else{s=e.slideTo}}}}else{s=e.top}if(e.left===""){if(e.slideTo==="left"||e.slideTo==="bottom"){o=0}else{if(e.slideTo==="right"){o=(this.width()-d)}else{if(e.slideTo==="center"){o=(this.width()-d)/2}else{o=e.slideTo}}}}else{o=e.left}if(e.slideFrom==="bottom"||e.slideFrom==="bottomleft"){m=this.height();o=0}if(e.slideFrom==="bottomcenter"){m=this.height();o=(this.width()-d)/2;n=o}if(e.slideFrom==="bottomright"){m=this.height();o=(this.width()-d);n=o}else{if(e.slideFrom==="top"||e.slideFrom==="topleft"){m=-y;o=0}else{if(e.slideFrom==="topcenter"){m=-y;o=(this.width()-d)/2;n=o}else{if(e.slideFrom==="topright"){m=-y;o=(this.width()-d);n=o}}}}k.css({top:m+"px",left:o+"px"});t.hover(function(){k.animate({top:s,left:o},{duration:e.inTime,queue:false})},function(){k.animate({top:m,left:n},{duration:e.outTime,queue:false})});if(e.slideFrom==="left"||e.slideFrom==="lefttop"){n=-d;s=e.top;m=s}else{if(e.slideFrom==="leftcenter"){n=-d;s=(this.height()-y)/2;m=s}else{if(e.slideFrom==="leftbottom"){n=-d;m=s}else{if(e.slideFrom==="right"||e.slideFrom==="righttop"){n=this.width();s=0;m=s}else{if(e.slideFrom==="rightcenter"){n=this.width();s=(this.height()-y)/2;m=s}else{if(e.slideFrom==="rightbottom"){n=this.width();s=(this.height()-y);m=s}}}}}}k.css({top:m+"px",left:n+"px"});t.hover(function(){k.animate({top:s,left:o},{duration:e.inTime,queue:false})},function(){k.animate({top:m,left:n},{duration:e.outTime,queue:false})})}else{if(e.animation==="fade"){k.css({opacity:0,top:q+"px",left:h+"px"});t.hover(function(){k.stop().animate({opacity:e.opacity},e.inTime)},function(){k.stop().animate({opacity:0},e.outTime)})}else{if(e.animation==="fixed"){k.css({top:q+"px",left:h+"px"})}else{a(j.attr("id")+": invalid animation!")}}}return j};function a(c){if(window.console&&window.console.log){window.console.log(c)}}b.fn.captall.defaults={caption:"",animation:"slide",slideFrom:"top",slideTo:"bottom",cCaption:"captall-caption",cImage:"captall-image",cWrapper:"captall-wrapper",top:"",left:"",width:"",height:"",opacity:0.7,time:"",inTime:200,outTime:200,padding:"",paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,backgroundColor:"#fff",fontColor:"#000",fontsize:"16px",textAlign:"left",disappearAfter:"",onComplete:null}}(jQuery));
